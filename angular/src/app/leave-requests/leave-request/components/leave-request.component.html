<abp-page [title]="title | abpLocalization">
  <abp-page-toolbar-container class="col">
    <!--<suite-custom-code-block-0>-->
    <!--</suite-custom-code-block-0>-->
    <div class="text-lg-end pt-2">
      <!--<suite-custom-code-block-1>-->
      <!--</suite-custom-code-block-1>-->

      <button
        class="btn btn-primary btn-sm mx-2"
        type="button"
        [disabled]="service.isExportToExcelBusy"
        (click)="exportToExcel()"
      >
        {{ '::ExportToExcel' | abpLocalization }}
      </button>

      <button
        *abpPermission="'HRManagementSoftware.LeaveRequests.Create'"
        class="btn btn-primary btn-sm"
        type="button"
        (click)="create()"
      >
        <i class="fa fa-plus me-1" aria-hidden="true"></i>
        {{ '::NewLeaveRequest' | abpLocalization }}
      </button>
      <!--<suite-custom-code-block-2>-->
      <!--</suite-custom-code-block-2>-->
    </div>
  </abp-page-toolbar-container>

  
  <!--<suite-custom-code-block-5>-->
  <!--</suite-custom-code-block-5>-->
  <!--<suite-custom-code-block-5>-->
  <div class="custom-leave-request-page container my-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <h4 class="card-title mb-3">Quick Leave Request</h4>

        <form (ngSubmit)="submitCustom()" class="row g-3 align-items-end">
          <div class="col-12 col-md-3">
            <label class="form-label">Employee Number</label>
            <input
              type="text"
              class="form-control form-control-lg"
              [(ngModel)]="customModel.employeeNumber"
              name="employeeNumber"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>

          <div class="col-12 col-md-3">
            <label class="form-label">Leave Type</label>
            <select
              class="form-select form-select-lg"
              [(ngModel)]="customModel.leaveType"
              name="leaveType"
              [ngModelOptions]="{ standalone: true }"
            >
              <option [ngValue]="null">-- Select --</option>
              <option *ngFor="let opt of leaveTypeOptions; trackBy: track.by('value')" [ngValue]="opt.value">
                {{ '::Enum:LeaveType.' + opt.value | abpLocalization }}
              </option>
            </select>
          </div>

          <div class="col-12 col-md-2">
            <label class="form-label">Start Date</label>
            <input
              type="date"
              class="form-control form-control-lg"
              [(ngModel)]="customModel.startDate"
              name="startDate"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>

          <div class="col-12 col-md-2">
            <label class="form-label">End Date</label>
            <input
              type="date"
              class="form-control form-control-lg"
              [(ngModel)]="customModel.endDate"
              name="endDate"
              [ngModelOptions]="{ standalone: true }"
            />
          </div>

          <div class="col-12 col-md-12">
            <label class="form-label">Reason</label>
            <textarea
              class="form-control"
              rows="3"
              [(ngModel)]="customModel.reason"
              name="reason"
              [ngModelOptions]="{ standalone: true }"
            ></textarea>
          </div>

          <div class="col-12 text-end">
            <button type="submit" class="btn btn-success btn-lg" [disabled]="isSubmitting">
              <i class="fa fa-paper-plane me-1"></i>
              Submit
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <!--</suite-custom-code-block-5>-->
  <!--<suite-custom-code-block-11>-->
  <!--</suite-custom-code-block-11>-->
</abp-page>
<!--<suite-custom-code-block-12>-->
<!--</suite-custom-code-block-12>-->

@defer (when serviceDetail.isVisible) {
  @if (serviceDetail.isVisible) {
    <app-leave-request-detail-modal />
  }
}
